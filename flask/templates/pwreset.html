{% extends 'base.html' %}

{% block head %}
<link href="/static/css/insecure.css" rel="stylesheet">
{% endblock %}


{% block body %}
<a href="/insecure_design" class="btn btn-dark btn-lg" role="button">Back</a>

<div class="container container-table">
    <div class="row vertical-center-row">
        <h2>Password Reset Form</h2>
            <form class="form-control-lg" method="POST" action="">
                <label for="username">Username</label>
                <div>{{ form.username (class="form-control-lg mb-2") }}</div>
                <label for="favsubject">What was your favorite subject in highschool?</label>
                <div>{{ form.favsubject (class="form-control-lg mb-2") }} </div>
                <label for="favcolor">What's your favorite color?</label>
                <div>{{ form.favcolor (class="form-control-lg mb-2") }} </div>
                <label for="newpw">Enter a new password</label>
                <div>{{ form.newpw (class="form-control-lg mb-2") }} </div>
                <div>{{ form.submit(class="btn btn-dark btn-block fa-lg mb-3") }} </div>
            </form> 
            <center>
                {% for message in get_flashed_messages() %}
                {% if message == "Username does not exist" %}
                    <div class="alert alert-danger alert-dismissible fade show" role="alert">
                    <strong>{{ message }}</strong>
                    <center>
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria label="close"></button>
                    </center>
                </div>
                {% elif message == "Password has successfully been changed" %}
                <div class="alert alert-success alert-dismissible fade show" role="alert">
                <strong>{{ message }}</strong>
                <center>
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria label="close"></button>
                </center>
            </div>
                {% endif %}
                {% endfor %}
            </center>
        </div>
    </div>



{% endblock %}